{% extends "base.html" %}

    {% block content%}
    
{% for message in get_flashed_messages() %}
<div class="alert alert-warning alert-dismissible fade show" role="alert">
    <strong>{{ message }}</strong>
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{% endfor %}
{{ sample_data }}
<h1>Edit Apartmenttype {{ apartmenttype.name.title() }}</h1>
<h2>Add rooms</h2>
{% if apartmenttype_rooms %}
    {% for rooms in apartmenttype_rooms %}
        <a href="{{url_for('product_col.collection_room', apartmenttype=apartmenttype.slug, slug=rooms.slug)}}">{{ rooms.name.title() }}</a>
    {% endfor %}
{% endif %}
<form action="/collections/{{ apartmenttype.slug }}" method="POST">
    {{ room_form.hidden_tag() }}
    {{ room_form.room_name.label }}
    {{ room_form.room_name }}
    <br />
    {{ room_form.submit_room }}
</form>
<h2>Edit details</h2>
<form action="/collections/{{ apartmenttype.slug }}" method="POST">
    {{ form.hidden_tag() }}
    {{ form.apartmenttype_name.label }}
    {{ form.apartmenttype_name }}
    <br />
    {% if projects %}
    {{ form.project.label }}
    {{ form.project }}
    {% if standard == apartmenttype %}
    {{ form.set_standard.label }}
    {{ form.set_standard}}
    {% else %}
    Kan ikke sette som standard. Standard allerede satt: <a href="{{url_for('product_col.collection', slug=standard.slug)}}">{{ standard.name}}</a>
    {% endif %}
    {% endif %}
    <br />
    {{ form.submit }}
</form>

<a href="{{url_for('product_col.delete_col', name=apartmenttype.name)}}">Delete collection</a>
<script src="{{url_for('static', filename='js/product_selection.js')}}"></script>
{% endblock %}